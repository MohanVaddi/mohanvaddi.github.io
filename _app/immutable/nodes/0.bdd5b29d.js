import{C as At,D as Ct,S as ye,i as we,s as pe,k as d,a as N,q as x,l as _,m as p,h as u,c as z,r as ee,n as C,E as Ie,F as Ee,b as L,G as I,H as q,v as Pe,d as w,I as Se,f as je,g as b,u as Te,J as It,K as ut,L as ft,M as dt,N as te,e as Ne,O as se,P as ie,Q as le,R as _t,o as mt,y as oe,z as re,A as ae,B as ge,T as Q,U as Me,V as Ue,W as me,w as pt}from"../chunks/index.df47aeff.js";import{I as Be}from"../chunks/Icon.e6871eca.js";import{u as ht}from"../chunks/config.289a73ae.js";const vt=!0;async function kt({data:n}){return{server:n}}const Js=Object.freeze(Object.defineProperty({__proto__:null,load:kt,prerender:vt},Symbol.toStringTag,{value:"Module"}));const be={ERROR:"ERROR",IDLE:"IDLE",INIT:"INIT",READY:"READY",RUNNING:"RUNNING",UNSUPPORTED:"UNSUPPORTED"};function bt(){return new Promise((n,e)=>{if(document.getElementById("spotify-player"))n();else{const t=document.createElement("script");t.id="spotify-player",t.type="text/javascript",t.async=!1,t.defer=!0,t.src="https://sdk.scdn.co/spotify-player.js",t.onload=()=>n(),t.onerror=i=>e(new Error(`loadScript: ${i.message}`)),document.head.appendChild(t)}})}async function yt(n,e,l){return fetch("https://api.spotify.com/v1/me/player",{body:JSON.stringify({device_ids:[e],play:l}),headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},method:"PUT"})}function wt(n,e){const l=setInterval(n,e);At(()=>{clearInterval(l)})}function Ke(n){let e=Math.floor(n/6e4),l=Math.floor(n%6e4/1e3);return`${e}:${l.toString().padStart(2,"0")}`}const Et="data:image/png;base64,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aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6aXB0Y0V4dD0iaHR0cDovL2lwdGMub3JnL3N0ZC9JcHRjNHhtcEV4dC8yMDA4LTAyLTI5LyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgIHhtbG5zOnBsdXM9Imh0dHA6Ly9ucy51c2VwbHVzLm9yZy9sZGYveG1wLzEuMC8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOmMxNmFhZDYwLTI3OTQtNGEzMi04NTE4LThkNGI3MzcyMjBjZiIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5YTllM2Y0OC0wMTRlLTRlM2ItODRjOC1kNWU0ZDFjMjk3NjIiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4ODVmMWE5Zi1jNmZmLTQxNjctYjUwZC1iODdmYTA1ZjYwZjkiCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IldpbmRvd3MiCiAgIEdJTVA6VGltZVN0YW1wPSIxNjI3MDQxNzk2NTEzOTE2IgogICBHSU1QOlZlcnNpb249IjIuMTAuMjIiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICB0aWZmOk9yaWVudGF0aW9uPSIxIgogICB4bXA6Q3JlYXRvclRvb2w9IkdJTVAgMi4xMCI+CiAgIDxpcHRjRXh0OkxvY2F0aW9uQ3JlYXRlZD4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OkxvY2F0aW9uQ3JlYXRlZD4KICAgPGlwdGNFeHQ6TG9jYXRpb25TaG93bj4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OkxvY2F0aW9uU2hvd24+CiAgIDxpcHRjRXh0OkFydHdvcmtPck9iamVjdD4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OkFydHdvcmtPck9iamVjdD4KICAgPGlwdGNFeHQ6UmVnaXN0cnlJZD4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OlJlZ2lzdHJ5SWQ+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjZkYTIxYjI2LTlmMjUtNDQwOC05MmYyLWQ5MWY3YzFiMzM4YyIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChXaW5kb3dzKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMS0wNy0yM1QxNTowMzoxNiIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgIDxwbHVzOkltYWdlU3VwcGxpZXI+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpJbWFnZVN1cHBsaWVyPgogICA8cGx1czpJbWFnZUNyZWF0b3I+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpJbWFnZUNyZWF0b3I+CiAgIDxwbHVzOkNvcHlyaWdodE93bmVyPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6Q29weXJpZ2h0T3duZXI+CiAgIDxwbHVzOkxpY2Vuc29yPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6TGljZW5zb3I+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz6gpjv1AAAABmJLR0QAIwAjACPnTmdgAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH5QcXDAMQyjMpZAAAApZJREFUSMe9l0uIjlEYx3/PsGFCGdfcZrAYt1IslNwaWbAwaYgsKJnCypK9JRsLYmVDskDkfkkWUsPICMklJLeUXKbIfD+bM/X6vPN5+ebzr3fznvec//95zvN/znmDglBHA0uBeUATMCYNvQaeATeAyxHxjv6A2qKetzjOqkuqIZyiXvbfcUFt+lvSNvWr1eOL2lqUtN3+R3uRSGuFlVmuyO4pcBcYTG3wFZgVEc8A6jIDB2pIClAP7PslYrUFuFT24fXkzYfAPaAbeAx8T/OGJT/XA9OAWcCc5POoIGBxRFzrTXPWp5/VyVXYcKi6Sj2hlnL2+hRApI70JjP3QURMz1mwEWjIvgKeRsTHCiImAjuB9kwWBEairs9RtVvdoh5RH/yhWnvUTvWQulEdlyNgQ9mcNah7a2CdK+raDPGysvE9oZ4GVuRkqhu4BtwEHqWnBPQAA5IjJgNTgbnAQmBE2RpdwEVgNTAh8/4YakeO4vfqiH8orIXq/tQqK6Ej1I5kgyxeAs0R0a02p4jGpgjrUuRPgXdAJ9AVEWYEDAd2ANuAQTkab6Ge6kPVS/VtwT39pB5PLXdghaLqxdG6dIjnYTwwqmCWhwCtwDHghbpVjdRg8vAq1HXA4ZzB18Ah4E4qrPsR8a1sT5uBZmA+0AY0FhS6BnVUH+nYXkYyTp2TeWbkFNdi9WoB3zf0Tjjbxx4fVG+rP/pYpJRcsUudmRGwqQLxyazSJf3YOGarqyt8s6A8TResPc7kXQSaUqepr9F5/AWYGRHP8zpPa40iLanL//dlr6RuLtpzVxbot0Xw+Y+R5pA3qeeqKSR1UjV/FItSPy8VIOtRT/5mmRzEXwhoAFrSZW58OqkAngCv0sXwSkR8KLLeTxsMr359NpsNAAAAAElFTkSuQmCC";let _e={code_verifier:"cv",access_token:"at",refresh_token:"rt",expires_in:"ei"},$e={scopes:["user-read-playback-state","streaming","user-read-private","user-modify-playback-state","user-read-email"],state:Math.random().toString(36).replace(/[^a-z]+/g,"")};function Rt(n){const l=new TextEncoder().encode(n);return window.crypto.subtle.digest("SHA-256",l)}function Dt(n){return btoa(String.fromCharCode.apply(null,new Uint8Array(n))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Pt(n){return("0"+n.toString(16)).substr(-2)}async function jt(n){var e=await Rt(n),l=Dt(e);return l}function Tt(n){var e=new Uint32Array(28);window.crypto.getRandomValues(e);let l=Array.from(e,Pt).join("");document.cookie=`${n}=${l};samesite=strict`}function St(){return window.location.search.substring(1).split("&").reduce((n,e)=>{if(e){var l=e.split("=");n[l[0]]=decodeURIComponent(l[1])}return n},{})}function Ye(n){let e=n+"=",t=decodeURIComponent(document.cookie).split(";");for(let i=0;i<t.length;i++){let s=t[i];for(;s.charAt(0)==" ";)s=s.substring(1);if(s.indexOf(e)==0)return s.substring(e.length,s.length)}return""}const He={auth:"https://accounts.spotify.com/authorize",token:"https://accounts.spotify.com/api/token"},Qe=async n=>{var e;const l=Ye(_e.code_verifier);if(!l)throw Error("Issues with PKCE code_verifier!");const t=await jt(l),i={client_id:n.client_id,response_type:"code",redirect_uri:n.redirect_uri||`${window.location.protocol}//${window.location.host}${window.location.pathname}`,code_challenge_method:"S256",code_challenge:t,state:n.state||$e.state,scope:((e=n.scopes)===null||e===void 0?void 0:e.join(" "))||$e.scopes.join(" ")},s=new URLSearchParams(i);return`${He.auth}?${s.toString()}`},Vt=async(n,e)=>{try{const l=Ye(_e.code_verifier);if(!l)throw Error("Issues with PKCE code_verifier!");const t={client_id:n.client_id,grant_type:"authorization_code",code:e,redirect_uri:n.redirect_uri||`${window.location.protocol}//${window.location.host}${window.location.pathname}`,code_verifier:l},i=await fetch(He.token,{body:new URLSearchParams(t),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST"});if(i.status===200)return await i.json();console.log("[Auth] Invalid response while fetcing token!"),console.log("[Auth]",i.status,i.statusText,i)}catch(l){console.log("[Auth] Fatal error!",l)}},Nt=async(n,e)=>{const l={client_id:n.client_id,grant_type:"refresh_token",refresh_token:e},t=await fetch(He.token,{body:new URLSearchParams(l),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST"});if(t.status===200)return await t.json();console.log("[Auth] Invalid response while refreshing token!"),console.log(t.status,t.statusText)},zt=30;class Lt{constructor(e,l,t){e||console.error("[Auth] Client ID is missing. Please provide an client_id!"),this.auth_obj={client_id:e,redirect_uri:l,scopes:t,state:void 0},this.state={isError:!1,error:"",isAuthorized:!1,token:null,refresh:null,code:null,expires_in:0}}init(e){const l=St();l!=null&&l.code?(this.state={...this.state,code:l.code},window.history.pushState({},null,window.location.origin),this.requestToken().then(()=>{e.bind(this)()})):!this.state.code&&!this.state.token&&!this.state.refresh&&(Tt(_e.code_verifier),e.bind(this)())}async login(){return new Promise(async(e,l)=>{const[t,i]=[Ye(_e.access_token),Ye(_e.refresh_token)];t&&i?(this.state={...this.state,refresh:i,token:t,isAuthorized:!0},e(this.state.isAuthorized)):i?(this.state={...this.state,refresh:i},await this.refreshToken(),e(this.state.isAuthorized)):(e(this.state.isAuthorized),window.location.href=await Qe(this.auth_obj))})}logout(){document.cookie=`${_e.access_token}=;expires=Thu, 01 Jan 1970 00:00:00 GMT`,document.cookie=`${_e.refresh_token}=;expires=Thu, 01 Jan 1970 00:00:00 GMT`,this.state={...this.state,token:null,refresh:null,isAuthorized:!1}}async getToken(){if(this.state.isAuthorized){if(this.state.token&&Ye(_e.access_token)===this.state.token)return this.state.token;if(this.state.refresh){if(await this.refreshToken(),this.state.isAuthorized&&this.state.token)return this.state.token}else console.warn("[Auth] Missing refersh_token. Out of sync.")}else window.location.href=await Qe(this.auth_obj)}async requestToken(){try{const e=await Vt(this.auth_obj,this.state.code);if(e)this.saveTokens(e);else throw new Error("Invalid response from token request!")}catch(e){console.error("[Auth] Issues while requesting token!",e.message),this.state={...this.state,isError:!0,error:"Issues while refreshing token!"}}}async refreshToken(){try{const e=await Nt(this.auth_obj,this.state.refresh);if(e)this.saveTokens(e);else throw new Error("Invalid response from token refresh!")}catch(e){console.error("[Auth] Issues while refreshing token!",e.message),this.state={...this.state,isError:!0,error:"Issues while refreshing token!"}}}saveTokens(e){document.cookie=`${_e.access_token}=${e.access_token};samesite=strict;max-age=${e.expires_in-60}`,document.cookie=`${_e.refresh_token}=${e.refresh_token};samesite=strict;max-age=${60*60*24*zt}`,this.state={...this.state,isAuthorized:!0,token:e.access_token,refresh:e.refresh_token,expires_in:e.expires_in}}}function Gt(n){return n*n*n}function Ot(n){const e=n-1;return e*e*e+1}function qe(n,{delay:e=0,duration:l=400,easing:t=Ct}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:l,easing:t,css:s=>`opacity: ${s*i}`}}function xe(n){let e,l,t,i,s;return{c(){e=d("img"),this.h()},l(o){e=_(o,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ee(e.src,l=n[4])||C(e,"src",l),C(e,"alt","album cover"),C(e,"class","svelte-f31sgv")},m(o,c){L(o,e,c),s=!0},p(o,c){n=o,(!s||c&16&&!Ee(e.src,l=n[4]))&&C(e,"src",l)},i(o){s||(ut(()=>{s&&(i&&i.end(1),t=ft(e,qe,{easing:Gt,duration:1e3}),t.start())}),s=!0)},o(o){t&&t.invalidate(),i=dt(e,qe,{easing:Ot,duration:2e3}),s=!1},d(o){o&&u(e),o&&i&&i.end()}}}function Zt(n){let e,l,t,i=n[4],s,o,c,a,f,r,A,g,k,y,V,m,E,G,U,P,T,W,F=n[1].track_window.current_track.name+"",ce,fe,ne,Y,J=n[1].track_window.current_track.artists.map(et).join(", ")+"",h,B,S,D,j,M,H,K,Ae,O=Ke(n[1].duration)+"",X,Z,Ve,de,$=xe(n);return{c(){e=d("div"),l=d("div"),t=d("div"),$.c(),s=N(),o=d("div"),c=d("div"),a=N(),f=d("div"),r=d("div"),A=d("div"),g=d("div"),k=N(),y=d("div"),V=N(),m=d("div"),E=d("img"),U=N(),P=d("div"),T=d("div"),W=d("b"),ce=x(F),fe=N(),ne=d("div"),Y=d("small"),h=x(J),B=N(),S=d("div"),D=d("div"),j=d("div"),H=N(),K=d("div"),Ae=d("small"),X=x(O),this.h()},l(v){e=_(v,"DIV",{class:!0});var R=p(e);l=_(R,"DIV",{class:!0});var Ce=p(l);t=_(Ce,"DIV",{class:!0});var ze=p(t);$.l(ze),ze.forEach(u),s=z(Ce),o=_(Ce,"DIV",{class:!0});var he=p(o);c=_(he,"DIV",{class:!0}),p(c).forEach(u),he.forEach(u),Ce.forEach(u),a=z(R),f=_(R,"DIV",{class:!0});var Le=p(f);r=_(Le,"DIV",{class:!0});var ue=p(r);A=_(ue,"DIV",{class:!0});var ve=p(A);g=_(ve,"DIV",{class:!0}),p(g).forEach(u),k=z(ve),y=_(ve,"DIV",{class:!0}),p(y).forEach(u),V=z(ve),m=_(ve,"DIV",{class:!0});var Ge=p(m);E=_(Ge,"IMG",{src:!0,alt:!0,class:!0}),Ge.forEach(u),ve.forEach(u),U=z(ue),P=_(ue,"DIV",{class:!0});var Re=p(P);T=_(Re,"DIV",{class:!0});var Oe=p(T);W=_(Oe,"B",{});var ke=p(W);ce=ee(ke,F),ke.forEach(u),Oe.forEach(u),fe=z(Re),ne=_(Re,"DIV",{class:!0});var Ze=p(ne);Y=_(Ze,"SMALL",{});var We=p(Y);h=ee(We,J),We.forEach(u),Ze.forEach(u),Re.forEach(u),B=z(ue),S=_(ue,"DIV",{class:!0});var De=p(S);D=_(De,"DIV",{class:!0});var Xe=p(D);j=_(Xe,"DIV",{class:!0,style:!0}),p(j).forEach(u),Xe.forEach(u),H=z(De),K=_(De,"DIV",{});var Fe=p(K);Ae=_(Fe,"SMALL",{});var Je=p(Ae);X=ee(Je,O),Je.forEach(u),Fe.forEach(u),De.forEach(u),ue.forEach(u),Le.forEach(u),R.forEach(u),this.h()},h(){C(t,"class","album-image svelte-f31sgv"),C(c,"class","button svelte-f31sgv"),Ie(c,"pause",!n[1].paused),C(o,"class","play-pause svelte-f31sgv"),Ie(o,"hidden",!n[2]),C(l,"class","left-slot svelte-f31sgv"),C(g,"class","prev svelte-f31sgv"),Ie(g,"hidden",!n[2]),C(y,"class","next svelte-f31sgv"),Ie(y,"hidden",!n[2]),Ee(E.src,G=Et)||C(E,"src",G),C(E,"alt","spotify logo"),C(E,"class","svelte-f31sgv"),C(m,"class","logo svelte-f31sgv"),C(A,"class","top svelte-f31sgv"),C(T,"class","name"),C(ne,"class","artists"),C(P,"class","middle svelte-f31sgv"),C(j,"class","progress svelte-f31sgv"),C(j,"style",M=`width: ${n[3]/n[1].duration*100}%;`),C(D,"class","progress-bar svelte-f31sgv"),C(S,"class","bottom svelte-f31sgv"),C(r,"class","track-info svelte-f31sgv"),C(f,"class","right-slot svelte-f31sgv"),C(e,"class","basic-player svelte-f31sgv")},m(v,R){L(v,e,R),I(e,l),I(l,t),$.m(t,null),I(l,s),I(l,o),I(o,c),I(e,a),I(e,f),I(f,r),I(r,A),I(A,g),I(A,k),I(A,y),I(A,V),I(A,m),I(m,E),I(r,U),I(r,P),I(P,T),I(T,W),I(W,ce),I(P,fe),I(P,ne),I(ne,Y),I(Y,h),I(r,B),I(r,S),I(S,D),I(D,j),I(S,H),I(S,K),I(K,Ae),I(Ae,X),Z=!0,Ve||(de=[q(o,"click",n[7]),q(g,"click",n[8]),q(y,"click",n[9]),q(e,"mouseenter",n[10]),q(e,"mouseleave",n[11])],Ve=!0)},p(v,[R]){R&16&&pe(i,i=v[4])?(Pe(),w($,1,1,Se),je(),$=xe(v),$.c(),b($,1),$.m(t,null)):$.p(v,R),(!Z||R&2)&&Ie(c,"pause",!v[1].paused),(!Z||R&4)&&Ie(o,"hidden",!v[2]),(!Z||R&4)&&Ie(g,"hidden",!v[2]),(!Z||R&4)&&Ie(y,"hidden",!v[2]),(!Z||R&2)&&F!==(F=v[1].track_window.current_track.name+"")&&Te(ce,F),(!Z||R&2)&&J!==(J=v[1].track_window.current_track.artists.map(et).join(", ")+"")&&Te(h,J),(!Z||R&10&&M!==(M=`width: ${v[3]/v[1].duration*100}%;`))&&C(j,"style",M),(!Z||R&2)&&O!==(O=Ke(v[1].duration)+"")&&Te(X,O)},i(v){Z||(b($),Z=!0)},o(v){w($),Z=!1},d(v){v&&u(e),$.d(v),Ve=!1,It(de)}}}const et=n=>n.name;function Wt(n,e,l){let t,i;var s,o;let{player:c,state:a}=e,f=!1;wt(()=>l(3,i+=a.paused?0:300),300);const r=()=>c.togglePlay(),A=()=>c.previousTrack(),g=()=>c.nextTrack(),k=()=>l(2,f=!0),y=()=>l(2,f=!1);return n.$$set=V=>{"player"in V&&l(0,c=V.player),"state"in V&&l(1,a=V.state)},n.$$.update=()=>{n.$$.dirty&98&&l(4,t=l(6,o=l(5,s=a.track_window.current_track.album.images)===null||s===void 0?void 0:s.find(V=>V.width===64))===null||o===void 0?void 0:o.url),n.$$.dirty&2&&l(3,i=a.position)},[c,a,f,i,t,s,o,r,A,g,k,y]}class Yt extends ye{constructor(e){super(),we(this,e,Wt,Zt,pe,{player:0,state:1})}}const Mt=n=>({}),tt=n=>({}),Ut=n=>({}),st=n=>({}),Bt=n=>({player:n&8,state:n&16}),it=n=>({player:n[3],state:n[4]}),Ht=n=>({}),lt=n=>({}),Xt=n=>({error:n&4}),nt=n=>({error:{type:n[2].errorType,message:n[2].error}}),Ft=n=>({}),ot=n=>({}),Jt=n=>({player:n&8,state:n&16,error:n&4,internal:n&228}),rt=n=>({player:n[3],state:n[4],error:{type:n[2].errorType,message:n[2].error},internal:{...n[2],isAuthorized:n[5],isReady:n[7],isLoading:n[6]}});function at(n){let e,l,t,i;const s=[$t,Kt],o=[];function c(a,f){return a[5]?0:1}return e=c(n),l=o[e]=s[e](n),{c(){l.c(),t=Ne()},l(a){l.l(a),t=Ne()},m(a,f){o[e].m(a,f),L(a,t,f),i=!0},p(a,f){let r=e;e=c(a),e===r?o[e].p(a,f):(Pe(),w(o[r],1,1,()=>{o[r]=null}),je(),l=o[e],l?l.p(a,f):(l=o[e]=s[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){i||(b(l),i=!0)},o(a){w(l),i=!1},d(a){o[e].d(a),a&&u(t)}}}function Kt(n){let e;const l=n[16].login,t=te(l,n,n[15],tt),i=t||Qt(n);return{c(){i&&i.c()},l(s){i&&i.l(s)},m(s,o){i&&i.m(s,o),e=!0},p(s,o){t&&t.p&&(!e||o&32768)&&se(t,l,s,s[15],e?le(l,s[15],o,Mt):ie(s[15]),tt)},i(s){e||(b(i,s),e=!0)},o(s){w(i,s),e=!1},d(s){i&&i.d(s)}}}function $t(n){let e,l,t,i,s,o;const c=[es,xt,qt],a=[];function f(g,k){return g[6]?0:g[2].error?1:g[2].isActive?-1:2}~(e=f(n))&&(l=a[e]=c[e](n));let r=n[7]&&n[2].isActive&&gt(n),A=!n[6]&&ct(n);return{c(){l&&l.c(),t=N(),r&&r.c(),i=N(),A&&A.c(),s=Ne()},l(g){l&&l.l(g),t=z(g),r&&r.l(g),i=z(g),A&&A.l(g),s=Ne()},m(g,k){~e&&a[e].m(g,k),L(g,t,k),r&&r.m(g,k),L(g,i,k),A&&A.m(g,k),L(g,s,k),o=!0},p(g,k){let y=e;e=f(g),e===y?~e&&a[e].p(g,k):(l&&(Pe(),w(a[y],1,1,()=>{a[y]=null}),je()),~e?(l=a[e],l?l.p(g,k):(l=a[e]=c[e](g),l.c()),b(l,1),l.m(t.parentNode,t)):l=null),g[7]&&g[2].isActive?r?(r.p(g,k),k&132&&b(r,1)):(r=gt(g),r.c(),b(r,1),r.m(i.parentNode,i)):r&&(Pe(),w(r,1,1,()=>{r=null}),je()),g[6]?A&&(Pe(),w(A,1,1,()=>{A=null}),je()):A?(A.p(g,k),k&64&&b(A,1)):(A=ct(g),A.c(),b(A,1),A.m(s.parentNode,s))},i(g){o||(b(l),b(r),b(A),o=!0)},o(g){w(l),w(r),w(A),o=!1},d(g){~e&&a[e].d(g),g&&u(t),r&&r.d(g),g&&u(i),A&&A.d(g),g&&u(s)}}}function Qt(n){let e,l,t,i;return{c(){e=d("button"),l=x("Login")},l(s){e=_(s,"BUTTON",{});var o=p(e);l=ee(o,"Login"),o.forEach(u)},m(s,o){L(s,e,o),I(e,l),t||(i=q(e,"click",n[18]),t=!0)},p:Se,d(s){s&&u(e),t=!1,i()}}}function qt(n){let e;const l=n[16].waiting,t=te(l,n,n[15],lt),i=t||ts(n);return{c(){i&&i.c()},l(s){i&&i.l(s)},m(s,o){i&&i.m(s,o),e=!0},p(s,o){t&&t.p&&(!e||o&32768)&&se(t,l,s,s[15],e?le(l,s[15],o,Ht):ie(s[15]),lt)},i(s){e||(b(i,s),e=!0)},o(s){w(i,s),e=!1},d(s){i&&i.d(s)}}}function xt(n){let e;const l=n[16].error,t=te(l,n,n[15],nt),i=t||ss(n);return{c(){i&&i.c()},l(s){i&&i.l(s)},m(s,o){i&&i.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&32772)&&se(t,l,s,s[15],e?le(l,s[15],o,Xt):ie(s[15]),nt):i&&i.p&&(!e||o&4)&&i.p(s,e?o:-1)},i(s){e||(b(i,s),e=!0)},o(s){w(i,s),e=!1},d(s){i&&i.d(s)}}}function es(n){let e;const l=n[16].loading,t=te(l,n,n[15],ot),i=t||is();return{c(){i&&i.c()},l(s){i&&i.l(s)},m(s,o){i&&i.m(s,o),e=!0},p(s,o){t&&t.p&&(!e||o&32768)&&se(t,l,s,s[15],e?le(l,s[15],o,Ft):ie(s[15]),ot)},i(s){e||(b(i,s),e=!0)},o(s){w(i,s),e=!1},d(s){i&&i.d(s)}}}function ts(n){let e,l,t,i;return{c(){e=d("button"),l=x("Select this device")},l(s){e=_(s,"BUTTON",{});var o=p(e);l=ee(o,"Select this device"),o.forEach(u)},m(s,o){L(s,e,o),I(e,l),t||(i=q(e,"click",n[17]),t=!0)},p:Se,d(s){s&&u(e),t=!1,i()}}}function ss(n){let e=n[2].errorType+"",l,t,i=n[2].error+"",s;return{c(){l=x(e),t=x(": "),s=x(i)},l(o){l=ee(o,e),t=ee(o,": "),s=ee(o,i)},m(o,c){L(o,l,c),L(o,t,c),L(o,s,c)},p(o,c){c&4&&e!==(e=o[2].errorType+"")&&Te(l,e),c&4&&i!==(i=o[2].error+"")&&Te(s,i)},d(o){o&&u(l),o&&u(t),o&&u(s)}}}function is(n){let e;return{c(){e=x("Loading...")},l(l){e=ee(l,"Loading...")},m(l,t){L(l,e,t)},d(l){l&&u(e)}}}function gt(n){let e;const l=n[16].player,t=te(l,n,n[15],it),i=t||ls(n);return{c(){i&&i.c()},l(s){i&&i.l(s)},m(s,o){i&&i.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&32792)&&se(t,l,s,s[15],e?le(l,s[15],o,Bt):ie(s[15]),it):i&&i.p&&(!e||o&24)&&i.p(s,e?o:-1)},i(s){e||(b(i,s),e=!0)},o(s){w(i,s),e=!1},d(s){i&&i.d(s)}}}function ls(n){let e,l;return e=new Yt({props:{player:n[3],state:n[4]}}),{c(){oe(e.$$.fragment)},l(t){re(e.$$.fragment,t)},m(t,i){ae(e,t,i),l=!0},p(t,i){const s={};i&8&&(s.player=t[3]),i&16&&(s.state=t[4]),e.$set(s)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){ge(e,t)}}}function ct(n){let e;const l=n[16].logout,t=te(l,n,n[15],st);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,s){t&&t.m(i,s),e=!0},p(i,s){t&&t.p&&(!e||s&32768)&&se(t,l,i,i[15],e?le(l,i[15],s,Ut):ie(i[15]),st)},i(i){e||(b(t,i),e=!0)},o(i){w(t,i),e=!1},d(i){t&&t.d(i)}}}function ns(n){let e,l,t,i;const s=n[16].all,o=te(s,n,n[15],rt),c=n[16].default,a=te(c,n,n[15],null);let f=!n[8].all&&at(n);return{c(){o&&o.c(),e=N(),a&&a.c(),l=N(),f&&f.c(),t=Ne()},l(r){o&&o.l(r),e=z(r),a&&a.l(r),l=z(r),f&&f.l(r),t=Ne()},m(r,A){o&&o.m(r,A),L(r,e,A),a&&a.m(r,A),L(r,l,A),f&&f.m(r,A),L(r,t,A),i=!0},p(r,[A]){o&&o.p&&(!i||A&33020)&&se(o,s,r,r[15],i?le(s,r[15],A,Jt):ie(r[15]),rt),a&&a.p&&(!i||A&32768)&&se(a,c,r,r[15],i?le(c,r[15],A,null):ie(r[15]),null),r[8].all?f&&(Pe(),w(f,1,1,()=>{f=null}),je()):f?(f.p(r,A),A&256&&b(f,1)):(f=at(r),f.c(),b(f,1),f.m(t.parentNode,t))},i(r){i||(b(o,r),b(a,r),b(f),i=!0)},o(r){w(o,r),w(a,r),w(f),i=!1},d(r){o&&o.d(r),r&&u(e),a&&a.d(r),r&&u(l),f&&f.d(r),r&&u(t)}}}function os(n,e,l){let t,i,s,o,{$$slots:c={},$$scope:a}=e;const f=_t(c);var r=this&&this.__awaiter||function(h,B,S,D){function j(M){return M instanceof S?M:new S(function(H){H(M)})}return new(S||(S=Promise))(function(M,H){function K(X){try{O(D.next(X))}catch(Z){H(Z)}}function Ae(X){try{O(D.throw(X))}catch(Z){H(Z)}}function O(X){X.done?M(X.value):j(X.value).then(K,Ae)}O((D=D.apply(h,B||[])).next())})};let A,g,k,{client_id:y}=e,{redirect_uri:V=null}=e,{scopes:m=null}=e,{name:E="Svelte Web Player"}=e,{volume:G=.5}=e,U={deviceId:"",error:"",errorType:"",isActive:!1,isInitializing:!1,isPlaying:!1,isUnsupported:!1,status:be.IDLE,accessToken:""};const P=()=>{l(2,t=Object.assign(Object.assign({},t),{isInitializing:!0})),l(3,g=new window.Spotify.Player({getOAuthToken:h=>r(void 0,void 0,void 0,function*(){let B=yield A.getToken();l(2,t=Object.assign(Object.assign({},t),{accessToken:B})),h(B)}),name:E,volume:G})),g.addListener("ready",T),g.addListener("not_ready",T),g.addListener("player_state_changed",W),g.addListener("initialization_error",h=>{F("initialization_error",h.message)}),g.addListener("authentication_error",h=>{F("authentication_error",h.message)}),g.addListener("playback_error",h=>{F("playback_error",h.message)}),g.connect()},T=({device_id:h})=>r(void 0,void 0,void 0,function*(){l(2,t=Object.assign(Object.assign({},t),{deviceId:h,isInitializing:!1,status:h?be.READY:be.IDLE}))}),W=h=>r(void 0,void 0,void 0,function*(){try{l(4,k=h),h?l(2,t=Object.assign(Object.assign({},t),{error:"",errorType:"",isActive:!0})):l(2,t=Object.assign(Object.assign({},t),{isActive:!1,isPlaying:!1}))}catch(B){console.log(B)}}),F=(h,B)=>r(void 0,void 0,void 0,function*(){const{status:S}=t,D=h==="playback_error",j=h==="initialization_error";let M=S;g&&!D&&(yield g.disconnect()),j&&(M=be.UNSUPPORTED),!j&&!D&&(M=be.ERROR),l(2,t=Object.assign(Object.assign({},t),{error:B,errorType:h,isInitializing:!1,isUnsupported:j,status:M}))});mt(()=>r(void 0,void 0,void 0,function*(){if(l(2,t=Object.assign(Object.assign({},t),{status:be.INIT})),!A){var h=new Lt(y,V,m);h.init(function(){A=h})}o?window.onSpotifyWebPlaybackSDKReady?P():window.onSpotifyWebPlaybackSDKReady=P:window.onSpotifyWebPlaybackSDKReady=()=>{},yield bt()})),At(()=>{g&&g.disconnect()});function ce(){A&&A.login().then(h=>{h&&(l(5,o=!0),P())})}function fe(){A&&(A.logout(),l(5,o=!1))}function ne(){if(!t.deviceId){console.log("[Player] No device found");return}yt(t.accessToken,t.deviceId)}const Y=()=>ne(),J=()=>ce();return n.$$set=h=>{"client_id"in h&&l(9,y=h.client_id),"redirect_uri"in h&&l(10,V=h.redirect_uri),"scopes"in h&&l(11,m=h.scopes),"name"in h&&l(12,E=h.name),"volume"in h&&l(13,G=h.volume),"$$scope"in h&&l(15,a=h.$$scope)},n.$$.update=()=>{n.$$.dirty&4&&l(7,i=[be.READY,be.UNSUPPORTED].indexOf(t.status)>=0),n.$$.dirty&4&&l(6,s=[be.INIT].indexOf(t.status)>=0)},l(2,t=U),l(5,o=!1),[ce,ne,t,g,k,o,s,i,f,y,V,m,E,G,fe,a,c,Y,J]}class rs extends ye{constructor(e){super(),we(this,e,os,ns,pe,{client_id:9,redirect_uri:10,scopes:11,name:12,volume:13,login:0,logout:14,selectDevice:1})}get login(){return this.$$.ctx[0]}get logout(){return this.$$.ctx[14]}get selectDevice(){return this.$$.ctx[1]}}function as(n){let e;const l=n[2].default,t=te(l,n,n[3],null);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,s){t&&t.m(i,s),e=!0},p(i,s){t&&t.p&&(!e||s&8)&&se(t,l,i,i[3],e?le(l,i[3],s,null):ie(i[3]),null)},i(i){e||(b(t,i),e=!0)},o(i){w(t,i),e=!1},d(i){t&&t.d(i)}}}function gs(n){let e,l;const t=[{name:"pause"},n[1],{iconNode:n[0]}];let i={$$slots:{default:[as]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)i=Q(i,t[s]);return e=new Be({props:i}),{c(){oe(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,o){ae(e,s,o),l=!0},p(s,[o]){const c=o&3?Me(t,[t[0],o&2&&Ue(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(c.$$scope={dirty:o,ctx:s}),e.$set(c)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){w(e.$$.fragment,s),l=!1},d(s){ge(e,s)}}}function cs(n,e,l){let{$$slots:t={},$$scope:i}=e;const s=[["rect",{width:"4",height:"16",x:"6",y:"4"}],["rect",{width:"4",height:"16",x:"14",y:"4"}]];return n.$$set=o=>{l(1,e=Q(Q({},e),me(o))),"$$scope"in o&&l(3,i=o.$$scope)},e=me(e),[s,e,t,i]}class As extends ye{constructor(e){super(),we(this,e,cs,gs,pe,{})}}const Is=As;function Cs(n){let e;const l=n[2].default,t=te(l,n,n[3],null);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,s){t&&t.m(i,s),e=!0},p(i,s){t&&t.p&&(!e||s&8)&&se(t,l,i,i[3],e?le(l,i[3],s,null):ie(i[3]),null)},i(i){e||(b(t,i),e=!0)},o(i){w(t,i),e=!1},d(i){t&&t.d(i)}}}function us(n){let e,l;const t=[{name:"play"},n[1],{iconNode:n[0]}];let i={$$slots:{default:[Cs]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)i=Q(i,t[s]);return e=new Be({props:i}),{c(){oe(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,o){ae(e,s,o),l=!0},p(s,[o]){const c=o&3?Me(t,[t[0],o&2&&Ue(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(c.$$scope={dirty:o,ctx:s}),e.$set(c)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){w(e.$$.fragment,s),l=!1},d(s){ge(e,s)}}}function fs(n,e,l){let{$$slots:t={},$$scope:i}=e;const s=[["polygon",{points:"5 3 19 12 5 21 5 3"}]];return n.$$set=o=>{l(1,e=Q(Q({},e),me(o))),"$$scope"in o&&l(3,i=o.$$scope)},e=me(e),[s,e,t,i]}class ds extends ye{constructor(e){super(),we(this,e,fs,us,pe,{})}}const _s=ds;function ms(n){let e;const l=n[2].default,t=te(l,n,n[3],null);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,s){t&&t.m(i,s),e=!0},p(i,s){t&&t.p&&(!e||s&8)&&se(t,l,i,i[3],e?le(l,i[3],s,null):ie(i[3]),null)},i(i){e||(b(t,i),e=!0)},o(i){w(t,i),e=!1},d(i){t&&t.d(i)}}}function ps(n){let e,l;const t=[{name:"skip-back"},n[1],{iconNode:n[0]}];let i={$$slots:{default:[ms]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)i=Q(i,t[s]);return e=new Be({props:i}),{c(){oe(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,o){ae(e,s,o),l=!0},p(s,[o]){const c=o&3?Me(t,[t[0],o&2&&Ue(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(c.$$scope={dirty:o,ctx:s}),e.$set(c)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){w(e.$$.fragment,s),l=!1},d(s){ge(e,s)}}}function hs(n,e,l){let{$$slots:t={},$$scope:i}=e;const s=[["polygon",{points:"19 20 9 12 19 4 19 20"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5"}]];return n.$$set=o=>{l(1,e=Q(Q({},e),me(o))),"$$scope"in o&&l(3,i=o.$$scope)},e=me(e),[s,e,t,i]}class vs extends ye{constructor(e){super(),we(this,e,hs,ps,pe,{})}}const ks=vs;function bs(n){let e;const l=n[2].default,t=te(l,n,n[3],null);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,s){t&&t.m(i,s),e=!0},p(i,s){t&&t.p&&(!e||s&8)&&se(t,l,i,i[3],e?le(l,i[3],s,null):ie(i[3]),null)},i(i){e||(b(t,i),e=!0)},o(i){w(t,i),e=!1},d(i){t&&t.d(i)}}}function ys(n){let e,l;const t=[{name:"skip-forward"},n[1],{iconNode:n[0]}];let i={$$slots:{default:[bs]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)i=Q(i,t[s]);return e=new Be({props:i}),{c(){oe(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,o){ae(e,s,o),l=!0},p(s,[o]){const c=o&3?Me(t,[t[0],o&2&&Ue(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(c.$$scope={dirty:o,ctx:s}),e.$set(c)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){w(e.$$.fragment,s),l=!1},d(s){ge(e,s)}}}function ws(n,e,l){let{$$slots:t={},$$scope:i}=e;const s=[["polygon",{points:"5 4 15 12 5 20 5 4"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19"}]];return n.$$set=o=>{l(1,e=Q(Q({},e),me(o))),"$$scope"in o&&l(3,i=o.$$scope)},e=me(e),[s,e,t,i]}class Es extends ye{constructor(e){super(),we(this,e,ws,ys,pe,{})}}const Rs=Es;function Ds(n){let e;const l=n[2].default,t=te(l,n,n[3],null);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,s){t&&t.m(i,s),e=!0},p(i,s){t&&t.p&&(!e||s&8)&&se(t,l,i,i[3],e?le(l,i[3],s,null):ie(i[3]),null)},i(i){e||(b(t,i),e=!0)},o(i){w(t,i),e=!1},d(i){t&&t.d(i)}}}function Ps(n){let e,l;const t=[{name:"x"},n[1],{iconNode:n[0]}];let i={$$slots:{default:[Ds]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)i=Q(i,t[s]);return e=new Be({props:i}),{c(){oe(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,o){ae(e,s,o),l=!0},p(s,[o]){const c=o&3?Me(t,[t[0],o&2&&Ue(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(c.$$scope={dirty:o,ctx:s}),e.$set(c)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){w(e.$$.fragment,s),l=!1},d(s){ge(e,s)}}}function js(n,e,l){let{$$slots:t={},$$scope:i}=e;const s=[["line",{x1:"18",x2:"6",y1:"6",y2:"18"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18"}]];return n.$$set=o=>{l(1,e=Q(Q({},e),me(o))),"$$scope"in o&&l(3,i=o.$$scope)},e=me(e),[s,e,t,i]}class Ts extends ye{constructor(e){super(),we(this,e,js,Ps,pe,{})}}const Ss=Ts;function Vs(n){let e,l;return e=new Is({props:{class:"inline playback-icon",size:18}}),{c(){oe(e.$$.fragment)},l(t){re(e.$$.fragment,t)},m(t,i){ae(e,t,i),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){ge(e,t)}}}function Ns(n){let e,l;return e=new _s({props:{class:"inline playback-icon",size:18}}),{c(){oe(e.$$.fragment)},l(t){re(e.$$.fragment,t)},m(t,i){ae(e,t,i),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){ge(e,t)}}}function zs(n){let e,l,t,i,s,o,c,a,f,r,A,g,k=n[4].item.name+"",y,V,m,E=n[4].item.artists[0].name+"",G,U,P,T,W,F,ce,fe,ne,Y,J,h,B,S,D,j,M,H,K,Ae,O,X,Z;t=new Ss({props:{class:"inline playback-icon"}}),h=new ks({props:{class:"inline playback-icon",size:18}});const Ve=[Ns,Vs],de=[];function $(v,R){return v[2].paused?0:1}return D=$(n),j=de[D]=Ve[D](n),K=new Rs({props:{class:"inline playback-icon",size:18}}),{c(){e=d("div"),l=d("div"),oe(t.$$.fragment),i=N(),s=d("div"),o=d("div"),c=d("div"),a=d("img"),r=N(),A=d("div"),g=d("p"),y=x(k),V=N(),m=d("p"),G=x(E),U=N(),P=d("div"),T=d("a"),W=d("img"),ne=N(),Y=d("div"),J=d("div"),oe(h.$$.fragment),B=N(),S=d("div"),j.c(),M=N(),H=d("div"),oe(K.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var R=p(e);l=_(R,"DIV",{class:!0});var Ce=p(l);re(t.$$.fragment,Ce),Ce.forEach(u),i=z(R),s=_(R,"DIV",{class:!0,id:!0});var ze=p(s);o=_(ze,"DIV",{class:!0});var he=p(o);c=_(he,"DIV",{class:!0});var Le=p(c);a=_(Le,"IMG",{src:!0,class:!0,alt:!0}),Le.forEach(u),r=z(he),A=_(he,"DIV",{class:!0});var ue=p(A);g=_(ue,"P",{class:!0});var ve=p(g);y=ee(ve,k),ve.forEach(u),V=z(ue),m=_(ue,"P",{class:!0});var Ge=p(m);G=ee(Ge,E),Ge.forEach(u),ue.forEach(u),U=z(he),P=_(he,"DIV",{class:!0});var Re=p(P);T=_(Re,"A",{href:!0,target:!0,rel:!0});var Oe=p(T);W=_(Oe,"IMG",{class:!0,src:!0,alt:!0}),Oe.forEach(u),Re.forEach(u),he.forEach(u),ze.forEach(u),ne=z(R),Y=_(R,"DIV",{class:!0});var ke=p(Y);J=_(ke,"DIV",{class:!0});var Ze=p(J);re(h.$$.fragment,Ze),Ze.forEach(u),B=z(ke),S=_(ke,"DIV",{class:!0});var We=p(S);j.l(We),We.forEach(u),M=z(ke),H=_(ke,"DIV",{class:!0});var De=p(H);re(K.$$.fragment,De),De.forEach(u),ke.forEach(u),R.forEach(u),this.h()},h(){C(l,"class","cursor-pointer"),Ee(a.src,f=n[4].item.album.images[2].url)||C(a,"src",f),C(a,"class","h-[70px] w-[70px] rounded-sm"),C(a,"alt",""),C(c,"class",""),C(g,"class","text-gray-300 text-base font-bold line-clamp-1"),C(m,"class","text-sm text-gray-400"),C(A,"class","my-1 w-[240px]"),C(W,"class","w-[18px] h-[18px] bg-gray-950"),Ee(W.src,F="assets/icons/Spotify_Icon_RGB_Green.png")||C(W,"src",F),C(W,"alt",""),C(T,"href",ce="https://open.spotify.com/track/"+n[4].item.uri.split(":")[2]),C(T,"target","_blank"),C(T,"rel","external noopener noreferrer"),C(P,"class","absolute right-[0.5rem] bottom-[0.5rem] rounded-full"),C(o,"class","flex gap-x-4 my-auto mx-auto"),C(s,"class","relative shadow mt-2 mb-1 bg-gray-900 rounded-md"),C(s,"id",fe=n[4].item.id),C(J,"class","inline"),C(S,"class","inline"),C(H,"class","inline"),C(Y,"class","bg-gray-900 px-2 py-[0.3rem] flex flex-1 space-x-6 justify-center rounded-md"),C(e,"class",Ae=`max-w-full md:max-w-[350px] w-full ${n[0]}`)},m(v,R){L(v,e,R),I(e,l),ae(t,l,null),I(e,i),I(e,s),I(s,o),I(o,c),I(c,a),I(o,r),I(o,A),I(A,g),I(g,y),I(A,V),I(A,m),I(m,G),I(o,U),I(o,P),I(P,T),I(T,W),I(e,ne),I(e,Y),I(Y,J),ae(h,J,null),I(Y,B),I(Y,S),de[D].m(S,null),I(Y,M),I(Y,H),ae(K,H,null),O=!0,X||(Z=[q(l,"click",n[5]),q(J,"click",n[6]),q(S,"click",n[7]),q(H,"click",n[8])],X=!0)},p(v,[R]){(!O||R&16&&!Ee(a.src,f=v[4].item.album.images[2].url))&&C(a,"src",f),(!O||R&16)&&k!==(k=v[4].item.name+"")&&Te(y,k),(!O||R&16)&&E!==(E=v[4].item.artists[0].name+"")&&Te(G,E),(!O||R&16&&ce!==(ce="https://open.spotify.com/track/"+v[4].item.uri.split(":")[2]))&&C(T,"href",ce),(!O||R&16&&fe!==(fe=v[4].item.id))&&C(s,"id",fe);let Ce=D;D=$(v),D!==Ce&&(Pe(),w(de[Ce],1,1,()=>{de[Ce]=null}),je(),j=de[D],j||(j=de[D]=Ve[D](v),j.c()),b(j,1),j.m(S,null)),(!O||R&1&&Ae!==(Ae=`max-w-full md:max-w-[350px] w-full ${v[0]}`))&&C(e,"class",Ae)},i(v){O||(b(t.$$.fragment,v),b(h.$$.fragment,v),b(j),b(K.$$.fragment,v),O=!0)},o(v){w(t.$$.fragment,v),w(h.$$.fragment,v),w(j),w(K.$$.fragment,v),O=!1},d(v){v&&u(e),ge(t),ge(h),de[D].d(),ge(K),X=!1,It(Z)}}}function Ls(n,e,l){let t,{class:i=""}=e,{player:s}=e,{state:o}=e,{wrapper:c}=e;console.log("player::",s),console.log("state::",o);const a=()=>c.logout(),f=()=>{s.previousTrack()},r=()=>s.togglePlay(),A=()=>{s.nextTrack()};return n.$$set=g=>{"class"in g&&l(0,i=g.class),"player"in g&&l(1,s=g.player),"state"in g&&l(2,o=g.state),"wrapper"in g&&l(3,c=g.wrapper)},n.$$.update=()=>{n.$$.dirty&4&&l(4,t={item:o.track_window.current_track})},[i,s,o,c,t,a,f,r,A]}class Gs extends ye{constructor(e){super(),we(this,e,Ls,zs,pe,{class:0,player:1,state:2,wrapper:3})}}function Os(n){let e,l,t,i,s,o,c,a,f,r,A,g,k,y,V;return{c(){e=d("div"),l=d("div"),t=d("div"),i=d("div"),s=d("img"),c=N(),a=d("div"),f=d("p"),r=x("Got Spotify Premium ?"),A=N(),g=d("p"),k=x("Click to vibe to my playlists"),this.h()},l(m){e=_(m,"DIV",{slot:!0});var E=p(e);l=_(E,"DIV",{class:!0});var G=p(l);t=_(G,"DIV",{class:!0});var U=p(t);i=_(U,"DIV",{class:!0});var P=p(i);s=_(P,"IMG",{src:!0,class:!0,alt:!0}),P.forEach(u),c=z(U),a=_(U,"DIV",{class:!0});var T=p(a);f=_(T,"P",{class:!0});var W=p(f);r=ee(W,"Got Spotify Premium ?"),W.forEach(u),A=z(T),g=_(T,"P",{class:!0});var F=p(g);k=ee(F,"Click to vibe to my playlists"),F.forEach(u),T.forEach(u),U.forEach(u),G.forEach(u),E.forEach(u),this.h()},h(){Ee(s.src,o="/assets/icons/Spotify_Icon_RGB_Green.png")||C(s,"src",o),C(s,"class","h-[36px] w-[36px] rounded-sm"),C(s,"alt",""),C(i,"class","my-auto mx-4"),C(f,"class","text-gray-300 text-sm font-bold line-clamp-1"),C(g,"class","text-sm text-gray-400 cursor-pointer hover:underline underline-offset-2"),C(a,"class","my-1 w-[240px]"),C(t,"class","flex my-auto mx-auto"),C(l,"class","relative shadow mt-2 mb-1 bg-gray-900 rounded-md cursor-pointer"),C(e,"slot","login")},m(m,E){L(m,e,E),I(e,l),I(l,t),I(t,i),I(i,s),I(t,c),I(t,a),I(a,f),I(f,r),I(a,A),I(a,g),I(g,k),y||(V=q(l,"click",n[7]),y=!0)},p:Se,d(m){m&&u(e),y=!1,V()}}}function Zs(n){let e;return{c(){e=d("div"),this.h()},l(l){e=_(l,"DIV",{slot:!0}),p(e).forEach(u),this.h()},h(){C(e,"slot","loading")},m(l,t){L(l,e,t)},p:Se,d(l){l&&u(e)}}}function Ws(n){let e;return{c(){e=d("div"),this.h()},l(l){e=_(l,"DIV",{slot:!0}),p(e).forEach(u),this.h()},h(){C(e,"slot","error")},m(l,t){L(l,e,t)},p:Se,d(l){l&&u(e)}}}function Ys(n){let e,l,t,i,s,o;return{c(){e=d("div"),l=d("div"),t=d("p"),i=x("Play music in this device"),this.h()},l(c){e=_(c,"DIV",{slot:!0});var a=p(e);l=_(a,"DIV",{class:!0});var f=p(l);t=_(f,"P",{class:!0});var r=p(t);i=ee(r,"Play music in this device"),r.forEach(u),f.forEach(u),a.forEach(u),this.h()},h(){C(t,"class","text-sm text-gray-400 cursor-pointer hover:underline underline-offset-2"),C(l,"class","relative cursor-pointer animate-pop-in"),C(e,"slot","waiting")},m(c,a){L(c,e,a),I(e,l),I(l,t),I(t,i),s||(o=q(l,"click",n[6]),s=!0)},p:Se,d(c){c&&u(e),s=!1,o()}}}function Ms(n){let e,l;return e=new Gs({props:{class:"animate-pop-in",slot:"player",wrapper:n[0],player:n[11],state:n[10]}}),{c(){oe(e.$$.fragment)},l(t){re(e.$$.fragment,t)},m(t,i){ae(e,t,i),l=!0},p(t,i){const s={};i&1&&(s.wrapper=t[0]),i&2048&&(s.player=t[11]),i&1024&&(s.state=t[10]),e.$set(s)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){ge(e,t)}}}function Us(n){let e,l,t,i,s,o,c,a,f,r,A,g;const k=n[4].default,y=te(k,n,n[9],null);let V={client_id:n[2],redirect_uri:ht,name:"Mohan's Blog",volume:1,$$slots:{player:[Ms,({state:m,player:E})=>({10:m,11:E}),({state:m,player:E})=>(m?1024:0)|(E?2048:0)],waiting:[Ys],error:[Ws],loading:[Zs],login:[Os]},$$scope:{ctx:n}};return f=new rs({props:V}),n[8](f),{c(){e=d("html"),y&&y.c(),l=N(),t=d("div"),i=d("div"),s=d("img"),c=N(),a=d("div"),oe(f.$$.fragment),this.h()},l(m){e=_(m,"HTML",{lang:!0,class:!0});var E=p(e);y&&y.l(E),E.forEach(u),l=z(m),t=_(m,"DIV",{class:!0});var G=p(t);i=_(G,"DIV",{class:!0});var U=p(i);s=_(U,"IMG",{class:!0,src:!0,alt:!0}),U.forEach(u),c=z(G),a=_(G,"DIV",{class:!0});var P=p(a);re(f.$$.fragment,P),P.forEach(u),G.forEach(u),this.h()},h(){C(e,"lang","en"),C(e,"class","dark scroll-smooth selection:bg-gray-800 dark:antialiased bg-gray-950"),C(s,"class","w-[24px] h-[24px] bg-gray-950 rounded-full"),Ee(s.src,o="/assets/icons/Spotify_Icon_RGB_Green.png")||C(s,"src",o),C(s,"alt",""),C(i,"class","p-2 bg-gray-800 rounded-md cursor-pointer"),Ie(i,"hidden",n[1]),C(a,"class","animate-pop-in duration-300"),Ie(a,"hidden",!n[1]),C(t,"class","absolute bottom-12 left-10")},m(m,E){L(m,e,E),y&&y.m(e,null),L(m,l,E),L(m,t,E),I(t,i),I(i,s),I(t,c),I(t,a),ae(f,a,null),r=!0,A||(g=q(i,"click",n[5]),A=!0)},p(m,[E]){y&&y.p&&(!r||E&512)&&se(y,k,m,m[9],r?le(k,m[9],E,null):ie(m[9]),null),(!r||E&2)&&Ie(i,"hidden",m[1]);const G={};E&3585&&(G.$$scope={dirty:E,ctx:m}),f.$set(G),(!r||E&2)&&Ie(a,"hidden",!m[1])},i(m){r||(b(y,m),b(f.$$.fragment,m),r=!0)},o(m){w(y,m),w(f.$$.fragment,m),r=!1},d(m){m&&u(e),y&&y.d(m),m&&u(l),m&&u(t),n[8](null),ge(f),A=!1,g()}}}function Bs(n,e,l){let{$$slots:t={},$$scope:i}=e,{data:s}=e;const{clientId:o}=s.server;let c,a=!1;const f=()=>{l(1,a=!0)},r=()=>c.selectDevice(),A=()=>c.login();function g(k){pt[k?"unshift":"push"](()=>{c=k,l(0,c)})}return n.$$set=k=>{"data"in k&&l(3,s=k.data),"$$scope"in k&&l(9,i=k.$$scope)},[c,a,o,s,t,f,r,A,g,i]}class Ks extends ye{constructor(e){super(),we(this,e,Bs,Us,pe,{data:3})}}export{Ks as component,Js as universal};
